# UWSM Global Env - CachyOS + NVIDIA RTX 4070 SUPER

# Wayland-first toolkits
export GDK_BACKEND=wayland,x11
export CLUTTER_BACKEND=wayland
export SDL_VIDEODRIVER=wayland
export QT_QPA_PLATFORM=wayland;xcb
export QT_WAYLAND_DISABLE_WINDOWDECORATION=1
export QT_AUTO_SCREEN_SCALE_FACTOR=1

# Electron/Chromium Wayland
export NIXOS_OZONE_WL=1
export OZONE_PLATFORM=wayland
export OZONE_PLATFORM_HINT=auto
export ELECTRON_OZONE_PLATFORM_HINT=auto

# NVIDIA RTX 4070 SUPER
export LIBVA_DRIVER_NAME=nvidia
export VDPAU_DRIVER=nvidia
export __GLX_VENDOR_LIBRARY_NAME=nvidia
export GBM_BACKEND=nvidia-drm
export NVD_BACKEND=direct

# G-SYNC / VRR
export __GL_GSYNC_ALLOWED=1
export __GL_VRR_ALLOWED=1

# Explicit sync (555+ drivers)
export __GL_ExperimentalPerfStrategy=1

# Hardware cursors (works on 555+)
export WLR_NO_HARDWARE_CURSORS=0

# Keep software rendering disabled
export LIBGL_ALWAYS_SOFTWARE=0

# Session
export XDG_CURRENT_DESKTOP=Hyprland
export XDG_SESSION_TYPE=wayland
export XDG_SESSION_DESKTOP=Hyprland

# Theme
export GTK_THEME=Andromeda-standard-buttons
export XCURSOR_THEME=Adwaita
export XCURSOR_SIZE=24

# GPG/SSH
export SSH_AUTH_SOCK=${XDG_RUNTIME_DIR}/gnupg/S.gpg-agent.ssh

# Gaming
export __GL_THREADED_OPTIMIZATION=1
